import{W as u,r as o,j as e,a as p}from"./app-0e979ee5.js";import"./Dropdown-98bc4d74.js";import{N as x}from"./NavBar-1adf853c.js";import{d as b}from"./index-bdd686f7.js";function N({auth:i,basket:a,totalprice:c,bikes:n}){const{data:l,setData:r,post:d}=u({basketid:null});o.useState(a.map(()=>1));const m=(t,s)=>{t.preventDefault(),r("basketid",s)};return o.useEffect(()=>{const t=document.getElementById("scrollToTop"),s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t&&t.addEventListener("click",s),()=>{t&&t.removeEventListener("click",s)}},[]),o.useEffect(()=>{const t=async()=>{await d("/deleteProduct")};l.basketid!==null&&t()},[l.basketid]),e.jsxs(e.Fragment,{children:[e.jsx(x,{auth:i}),e.jsx(p,{title:"Basket"}),e.jsx("body",{className:"basketbody",children:e.jsxs("div",{className:"basketContainer",children:[e.jsx("h1",{className:"h1basket",children:"Shopping Basket"}),e.jsx("div",{className:"basketClass",children:a.length>0?e.jsxs("div",{children:[a.map((t,s)=>e.jsx("div",{className:"basketitem",children:e.jsx("div",{className:(s%2===0,""),children:e.jsxs("div",{className:"item-details",children:[e.jsx("h2",{className:"h2basket",children:n[s].productname}),e.jsxs("p",{children:["Price: £",t.totalprice]}),e.jsxs("p",{children:["Quantity: ",t.quantity]}),e.jsx("form",{onSubmit:h=>m(h,t.basketid),children:e.jsx("button",{type:"submit",className:"text-red-500 hover:underline",children:"Remove"})})]})})},s)),e.jsxs("div",{className:"total",children:[e.jsx("h2",{className:"h2basket",children:"Total Amount:"}),e.jsxs("p",{children:["£",c]})]}),e.jsx("button",{type:"button",onClick:()=>b.Inertia.visit(route("checkout")),className:"checkout-btn",children:"Go to Checkout"})]}):e.jsx("p",{style:{fontSize:"25px"},children:"Your basket is empty."})})]})}),e.jsx("button",{className:"btn btn-outline-light mt-3",id:"scrollToTop",title:"Scroll to Top",style:{display:"block",margin:"0 auto"},children:"^ Back to Top"})]})}export{N as default};
